{"version":3,"sources":["webpack:///./src/pages/secret/index.jsx"],"names":["SecretPage","React","useEffect","canvas","document","getElementById","ctx","getContext","screen","window","width","height","COLS","Math","round","ROWS","prevTimestamp","grid","Array","fill","map","floor","random","nextCell","cell","numNeighbours","requestAnimationFrame","update","timestamp","col","length","row","beginPath","rect","fillStyle","render","nextGen","arr","x","y","xCell","yCell","makeNextGen","title","id","style","position","left","bottom","zIndex","sx","pt","fontFamily","backgroundColor","fontSize","behavior","direction"],"mappings":"8+BAkLeA,UA5KI,WAmHjB,OAlHAC,IAAMC,WAAU,WACd,IAAMC,EAASC,SAASC,eAAe,gBACjCC,EAAMH,EAAOI,WAAW,MAGtBC,EAAWC,OAAXD,OAERL,EAAOO,MAAQF,EAAOE,MACtBP,EAAOQ,OAASH,EAAOG,OAEvB,IAAMC,EAAOC,KAAKC,MAAMX,EAAOO,MANZ,GAObK,EAAOF,KAAKC,MAAMX,EAAOQ,OAPZ,GAmBnB,IAuEIK,EAvEAC,EATK,IAAIC,MAAMN,GACdO,KAAK,MACLC,KAAI,kBACH,IAAIF,MAAMH,GACPI,KAAK,MACLC,KAAI,kBAAMP,KAAKQ,MAAsB,EAAhBR,KAAKS,gBAM7BC,EAAW,SAACC,EAAMC,GAItB,OAAa,IAATD,IAFFC,EAAgB,GAAKA,EAAgB,GAG9B,EAEI,IAATD,GAAgC,IAAlBC,EACT,EAGFD,GA2ETE,uBAfA,SAASC,EAAOC,GACTZ,IACHA,EAAgBY,GAGdA,EAAYZ,EAAgB,MAC9BA,EAAgBY,EA1BpB,SAAgBX,GACd,IAAK,IAAIY,EAAM,EAAGA,EAAMZ,EAAKa,OAAQD,IACnC,IAAK,IAAIE,EAAM,EAAGA,EAAMd,EAAKY,GAAKC,OAAQC,IAAO,CAC/C,IAAMP,EAAOP,EAAKY,GAAKE,GAEvBzB,EAAI0B,YACJ1B,EAAI2B,KA9ES,EA+EXJ,EA/EW,EAgFXE,EAhFW,KAoFbzB,EAAI4B,UAAYV,EAAO,OAAS,OAChClB,EAAIa,QAgBNgB,CAFAlB,EAhEJ,SAAqBA,GAGnB,IAFA,IAAMmB,EAAUnB,EAAKG,KAAI,SAAAiB,GAAG,SAAQA,MAE3BR,EAAM,EAAGA,EAAMZ,EAAKa,OAAQD,IACnC,IAAK,IAAIE,EAAM,EAAGA,EAAMd,EAAKY,GAAKC,OAAQC,IAAO,CAI/C,IAHA,IAAMP,EAAOP,EAAKY,GAAKE,GACnBN,EAAgB,EAEXa,GAAK,EAAGA,EAAI,EAAGA,IACtB,IAAK,IAAIC,GAAK,EAAGA,EAAI,EAAGA,IACtB,GAAU,IAAND,GAAiB,IAANC,EAAf,CAIA,IAAMC,EAAQX,EAAMS,EACdG,EAAQV,EAAMQ,EAOpB,GALEC,GAAS,GACTC,GAAS,GACTD,EAAQ5B,GACR6B,EAAQ1B,EAKRU,GAFyBR,EAAKY,EAAMS,GAAGP,EAAMQ,GAOnDH,EAAQP,GAAKE,GAAOR,EAASC,EAAMC,GAIvC,OAAOW,EA8BEM,CAAYzB,KAKrBS,sBAAsBC,QAIvB,IAGD,YAAC,IAAD,KACE,YAAC,IAAD,CAAKgB,MAAM,SACX,sBACEC,GAAG,eACHC,MAAO,CACLC,SAAU,WACVC,KAAM,EACNC,OAAQ,EACRC,QAAS,KAIb,YAAC,IAAD,CACEC,GAAI,CACFC,GAAI,EACJC,WAAY,YACZC,gBAAiB,cACjBC,SAAU,EACV3C,OAAQ,UAGV,uBAAS4C,SAAS,aAAlB,uIAGuB,uBAASZ,MAAM,QAAf,QAAqC,IAH5D,2PAUA,uBAASY,SAAS,YAAYC,UAAU,MAAxC,2JAG4C,IAC1C,uBAASb,MAAM,YAAf,YAJF,mOAUA,uBAASY,SAAS,YAAYC,UAAU,SAAxC,gWAOI,uBAASb,MAAM,MAAf,QAPJ","file":"component---src-pages-secret-index-jsx-5b9a4716940de69ae16f.js","sourcesContent":["/** @jsx jsx */\nimport Layout from 'gatsby-theme-someta/src/components/layout';\nimport SEO from 'gatsby-theme-someta/src/components/seo';\nimport React from 'react';\nimport { Box, jsx } from 'theme-ui';\n\nconst SecretPage = () => {\n  React.useEffect(() => {\n    const canvas = document.getElementById('game-of-life');\n    const ctx = canvas.getContext('2d');\n\n    const resolution = 8;\n    const { screen } = window;\n\n    canvas.width = screen.width;\n    canvas.height = screen.height;\n\n    const COLS = Math.round(canvas.width / resolution);\n    const ROWS = Math.round(canvas.height / resolution);\n\n    function buildGrid() {\n      return new Array(COLS)\n        .fill(null)\n        .map(() =>\n          new Array(ROWS)\n            .fill(null)\n            .map(() => Math.floor(Math.random() * 2))\n        );\n    }\n\n    let grid = buildGrid();\n\n    const nextCell = (cell, numNeighbours) => {\n      const isDeadlyNeighbours =\n        numNeighbours < 2 || numNeighbours > 3;\n\n      if (cell === 1 && isDeadlyNeighbours) {\n        return 0;\n      }\n      if (cell === 0 && numNeighbours === 3) {\n        return 1;\n      }\n\n      return cell;\n    };\n\n    function makeNextGen(grid) {\n      const nextGen = grid.map(arr => [...arr]);\n\n      for (let col = 0; col < grid.length; col++) {\n        for (let row = 0; row < grid[col].length; row++) {\n          const cell = grid[col][row];\n          let numNeighbours = 0;\n\n          for (let x = -1; x < 2; x++) {\n            for (let y = -1; y < 2; y++) {\n              if (x === 0 && y === 0) {\n                continue;\n              }\n\n              const xCell = col + x;\n              const yCell = row + y;\n              const isWithinBoundaries =\n                xCell >= 0 &&\n                yCell >= 0 &&\n                xCell < COLS &&\n                yCell < ROWS;\n\n              if (isWithinBoundaries) {\n                const currentNeighbour = grid[col + x][row + y];\n\n                numNeighbours += currentNeighbour;\n              }\n            }\n          }\n\n          nextGen[col][row] = nextCell(cell, numNeighbours);\n        }\n      }\n\n      return nextGen;\n    }\n\n    function render(grid) {\n      for (let col = 0; col < grid.length; col++) {\n        for (let row = 0; row < grid[col].length; row++) {\n          const cell = grid[col][row];\n\n          ctx.beginPath();\n          ctx.rect(\n            col * resolution,\n            row * resolution,\n            resolution,\n            resolution\n          );\n          ctx.fillStyle = cell ? '#EEE' : '#FFF';\n          ctx.fill();\n        }\n      }\n    }\n\n    let prevTimestamp;\n\n    function update(timestamp) {\n      if (!prevTimestamp) {\n        prevTimestamp = timestamp;\n      }\n\n      if (timestamp - prevTimestamp > 1000) {\n        prevTimestamp = timestamp;\n        grid = makeNextGen(grid);\n\n        render(grid);\n      }\n\n      requestAnimationFrame(update);\n    }\n\n    requestAnimationFrame(update);\n  }, []);\n\n  return (\n    <Layout>\n      <SEO title=\"0—Ö00\" />\n      <canvas\n        id=\"game-of-life\"\n        style={{\n          position: 'absolute',\n          left: 0,\n          bottom: 0,\n          zIndex: -1\n        }}\n      />\n\n      <Box\n        sx={{\n          pt: 5,\n          fontFamily: 'monospace',\n          backgroundColor: 'transparent',\n          fontSize: 5,\n          height: '100vh'\n        }}\n      >\n        <marquee behavior=\"alternate\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. <acronym title=\"–°—é–¥–∞\">S—éda</acronym>{' '}\n          luhwe ne lezt—å. Ser—åezno, l—éboj iz vas budet –∂alet—å. Luhwe\n          zakrojte temu i zabud—åte, hto tut pisalos—å. –Ø vpolne\n          ponima—é, hto dannym soob—âeniem vyzovu dopolnitel—ånyj\n          interes, no xohu srazu predostereh—å pytlivyx - stop.\n          Ostal—ånye prosto ne najdut ü§î\n        </marquee>\n        <marquee behavior=\"alternate\" direction=\"up\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. S—éda luhwe ne lezt—å.{' '}\n          <acronym title=\"–°–µ—Ä—å—ë–∑–Ω–æ\">Ser—åezno</acronym>, l—éboj iz vas\n          budet –∂alet—å. Luhwe zakrojte temu i zabud—åte, hto tut\n          pisalos—å. –Ø vpolne ponima—é, hto dannym soob—âeniem vyzovu\n          dopolnitel—ånyj interes, no xohu srazu predostereh—å pytlivyx\n          - stop. Ostal—ånye prosto ne najdut ü§î\n        </marquee>\n        <marquee behavior=\"alternate\" direction=\"right\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. S—éda luhwe ne lezt—å. Ser—åezno, l—éboj iz\n          vas budet –∂alet—å. Luhwe zakrojte temu i zabud—åte, hto tut\n          pisalos—å. –Ø vpolne ponima—é, hto dannym soob—âeniem vyzovu\n          dopolnitel—ånyj interes, no xohu srazu predostereh—å pytlivyx\n          - <acronym title=\"–û–∫\">stop</acronym>. Ostal—ånye prosto ne\n          najdut ü§î\n        </marquee>\n      </Box>\n    </Layout>\n  );\n};\n\nexport default SecretPage;\n"],"sourceRoot":""}