{"version":3,"sources":["webpack:///./src/pages/secret/index.jsx"],"names":["SecretPage","React","useEffect","canvas","document","getElementById","ctx","getContext","width","window","screen","height","COLS","ROWS","prevTimestamp","grid","Array","fill","map","Math","floor","random","requestAnimationFrame","update","timestamp","col","length","row","cell","beginPath","rect","fillStyle","render","nextGen","arr","numNeighbours","i","j","x_cell","y_cell","title","id","style","position","left","bottom","zIndex","sx","pt","fontFamily","backgroundColor","fontSize","behavior","direction"],"mappings":"8+BAyKeA,UAnKI,WA0GjB,OAzGAC,IAAMC,WAAU,WACd,IAAMC,EAASC,SAASC,eAAe,gBACjCC,EAAMH,EAAOI,WAAW,MAI9BJ,EAAOK,MAAQC,OAAOC,OAAOF,MAC7BL,EAAOQ,OAASF,OAAOC,OAAOC,OAE9B,IAAMC,EAAOT,EAAOK,MALD,GAMbK,EAAOV,EAAOQ,OAND,GAkBnB,IA+DIG,EA/DAC,EATK,IAAIC,MAAMJ,GACdK,KAAK,MACLC,KAAI,kBACH,IAAIF,MAAMH,GACPI,KAAK,MACLC,KAAI,kBAAMC,KAAKC,MAAsB,EAAhBD,KAAKE,gBAoFnCC,uBAfA,SAASC,EAAOC,GACTV,IACHA,EAAgBU,GAGdA,EAAYV,EAAgB,MAC9BA,EAAgBU,EA1BpB,SAAgBT,GACd,IAAK,IAAIU,EAAM,EAAGA,EAAMV,EAAKW,OAAQD,IACnC,IAAK,IAAIE,EAAM,EAAGA,EAAMZ,EAAKU,GAAKC,OAAQC,IAAO,CAC/C,IAAMC,EAAOb,EAAKU,GAAKE,GAEvBrB,EAAIuB,YACJvB,EAAIwB,KArES,GAsEXL,EAtEW,GAuEXE,EAvEW,OA2EbrB,EAAIyB,UAAYH,EAAO,OAAS,OAChCtB,EAAIW,QAgBNe,CAFAjB,EAtEJ,SAAiBA,GAGf,IAFA,IAAMkB,EAAUlB,EAAKG,KAAI,SAAAgB,GAAG,SAAQA,MAE3BT,EAAM,EAAGA,EAAMV,EAAKW,OAAQD,IACnC,IAAK,IAAIE,EAAM,EAAGA,EAAMZ,EAAKU,GAAKC,OAAQC,IAAO,CAI/C,IAHA,IAAMC,EAAOb,EAAKU,GAAKE,GACnBQ,EAAgB,EAEXC,GAAK,EAAGA,EAAI,EAAGA,IACtB,IAAK,IAAIC,GAAK,EAAGA,EAAI,EAAGA,IACtB,GAAU,IAAND,GAAiB,IAANC,EAAf,CAGA,IAAMC,EAASb,EAAMW,EACfG,EAASZ,EAAMU,EAErB,GACEC,GAAU,GACVC,GAAU,GACVD,EAAS1B,GACT2B,EAAS1B,EAITsB,GAFyBpB,EAAKU,EAAMW,GAAGT,EAAMU,GAQtC,IAATT,GAAcO,EAAgB,GAEd,IAATP,GAAcO,EAAgB,EADvCF,EAAQR,GAAKE,GAAO,EAGF,IAATC,GAAgC,IAAlBO,IACvBF,EAAQR,GAAKE,GAAO,GAK1B,OAAOM,EA8BEA,CAAQlB,KAKjBO,sBAAsBC,QAIvB,IAGD,YAAC,IAAD,KACE,YAAC,IAAD,CAAKiB,MAAM,SACX,sBACEC,GAAG,eACHC,MAAO,CACLC,SAAU,WACVC,KAAM,EACNC,OAAQ,EACRC,QAAS,KAIb,YAAC,IAAD,CACEC,GAAI,CACFC,GAAI,EACJC,WAAY,YACZC,gBAAiB,cACjBC,SAAU,EACVxC,OAAQ,UAGV,uBAASyC,SAAS,aAAlB,uIAGuB,uBAASZ,MAAM,QAAf,QAAqC,IAH5D,2PAUA,uBAASY,SAAS,YAAYC,UAAU,MAAxC,2JAG4C,IAC1C,uBAASb,MAAM,YAAf,YAJF,mOAUA,uBAASY,SAAS,YAAYC,UAAU,SAAxC,gWAOI,uBAASb,MAAM,MAAf,QAPJ","file":"component---src-pages-secret-index-jsx-9ca7a2aafbbfa2bc3935.js","sourcesContent":["/** @jsx jsx */\nimport Layout from 'gatsby-theme-someta/src/components/layout';\nimport SEO from 'gatsby-theme-someta/src/components/seo';\nimport React from 'react';\nimport { Box, jsx } from 'theme-ui';\n\nconst SecretPage = () => {\n  React.useEffect(() => {\n    const canvas = document.getElementById('game-of-life');\n    const ctx = canvas.getContext('2d');\n\n    const resolution = 20;\n\n    canvas.width = window.screen.width;\n    canvas.height = window.screen.height;\n\n    const COLS = canvas.width / resolution;\n    const ROWS = canvas.height / resolution;\n\n    function buildGrid() {\n      return new Array(COLS)\n        .fill(null)\n        .map(() =>\n          new Array(ROWS)\n            .fill(null)\n            .map(() => Math.floor(Math.random() * 2))\n        );\n    }\n\n    let grid = buildGrid();\n\n    function nextGen(grid) {\n      const nextGen = grid.map(arr => [...arr]);\n\n      for (let col = 0; col < grid.length; col++) {\n        for (let row = 0; row < grid[col].length; row++) {\n          const cell = grid[col][row];\n          let numNeighbours = 0;\n\n          for (let i = -1; i < 2; i++) {\n            for (let j = -1; j < 2; j++) {\n              if (i === 0 && j === 0) {\n                continue;\n              }\n              const x_cell = col + i;\n              const y_cell = row + j;\n\n              if (\n                x_cell >= 0 &&\n                y_cell >= 0 &&\n                x_cell < COLS &&\n                y_cell < ROWS\n              ) {\n                const currentNeighbour = grid[col + i][row + j];\n\n                numNeighbours += currentNeighbour;\n              }\n            }\n          }\n\n          // rules\n          if (cell === 1 && numNeighbours < 2) {\n            nextGen[col][row] = 0;\n          } else if (cell === 1 && numNeighbours > 3) {\n            nextGen[col][row] = 0;\n          } else if (cell === 0 && numNeighbours === 3) {\n            nextGen[col][row] = 1;\n          }\n        }\n      }\n\n      return nextGen;\n    }\n\n    function render(grid) {\n      for (let col = 0; col < grid.length; col++) {\n        for (let row = 0; row < grid[col].length; row++) {\n          const cell = grid[col][row];\n\n          ctx.beginPath();\n          ctx.rect(\n            col * resolution,\n            row * resolution,\n            resolution,\n            resolution\n          );\n          ctx.fillStyle = cell ? '#EEE' : '#FFF';\n          ctx.fill();\n        }\n      }\n    }\n\n    let prevTimestamp;\n\n    function update(timestamp) {\n      if (!prevTimestamp) {\n        prevTimestamp = timestamp;\n      }\n\n      if (timestamp - prevTimestamp > 1000) {\n        prevTimestamp = timestamp;\n        grid = nextGen(grid);\n\n        render(grid);\n      }\n\n      requestAnimationFrame(update);\n    }\n\n    requestAnimationFrame(update);\n  }, []);\n\n  return (\n    <Layout>\n      <SEO title=\"0—Ö00\" />\n      <canvas\n        id=\"game-of-life\"\n        style={{\n          position: 'absolute',\n          left: 0,\n          bottom: 0,\n          zIndex: -1\n        }}\n      />\n\n      <Box\n        sx={{\n          pt: 5,\n          fontFamily: 'monospace',\n          backgroundColor: 'transparent',\n          fontSize: 5,\n          height: '100vh'\n        }}\n      >\n        <marquee behavior=\"alternate\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. <acronym title=\"–°—é–¥–∞\">S—éda</acronym>{' '}\n          luhwe ne lezt—å. Ser—åezno, l—éboj iz vas budet –∂alet—å. Luhwe\n          zakrojte temu i zabud—åte, hto tut pisalos—å. –Ø vpolne\n          ponima—é, hto dannym soob—âeniem vyzovu dopolnitel—ånyj\n          interes, no xohu srazu predostereh—å pytlivyx - stop.\n          Ostal—ånye prosto ne najdut ü§î\n        </marquee>\n        <marquee behavior=\"alternate\" direction=\"up\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. S—éda luhwe ne lezt—å.{' '}\n          <acronym title=\"–°–µ—Ä—å—ë–∑–Ω–æ\">Ser—åezno</acronym>, l—éboj iz vas\n          budet –∂alet—å. Luhwe zakrojte temu i zabud—åte, hto tut\n          pisalos—å. –Ø vpolne ponima—é, hto dannym soob—âeniem vyzovu\n          dopolnitel—ånyj interes, no xohu srazu predostereh—å pytlivyx\n          - stop. Ostal—ånye prosto ne najdut ü§î\n        </marquee>\n        <marquee behavior=\"alternate\" direction=\"right\">\n          ü§î Rebqta, ne stoit vskryvat—å etu temu. Vy molodye,\n          wutlivye, vam vse legko. eto ne to. eto ne Hikatilo i da–∂e\n          ne arxivy specslu–∂b. S—éda luhwe ne lezt—å. Ser—åezno, l—éboj iz\n          vas budet –∂alet—å. Luhwe zakrojte temu i zabud—åte, hto tut\n          pisalos—å. –Ø vpolne ponima—é, hto dannym soob—âeniem vyzovu\n          dopolnitel—ånyj interes, no xohu srazu predostereh—å pytlivyx\n          - <acronym title=\"–û–∫\">stop</acronym>. Ostal—ånye prosto ne\n          najdut ü§î\n        </marquee>\n      </Box>\n    </Layout>\n  );\n};\n\nexport default SecretPage;\n"],"sourceRoot":""}